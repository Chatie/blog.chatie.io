---
layout: post
title: "用wechaty实现智能内容机器人"
date: 2018-08-05 09:00 +0800
author: judaschrist
---

> Author: [@judaschrist](https://github.com/judaschrist) What's life without Code, Movies and Musicals. Co-founder of [小理智能](https://xiaoli.ai/) 

![用wechaty实现智能内容机器人](/download/2018/wechaty-xiaoli.png)

感谢 @lijiarui 邀请我分享我们的智能内容服务，以及在wechaty上的应用场景，希望能够帮助开发者使用wechaty提供更加丰富多样的自动化服务。

## 智能内容服务接口介绍

我们在小理智能开发了一套智能内容服务系统，能够为各个领域提供智能资讯接口，包括新闻搜索，主题订阅，日报订阅等，帮助开发者将内容服务整合到自己的系统和产品中。
以基本的资讯接口为例：用户可以指定任意关键词，接口返回和关键词相关的最新新闻。
<!--more-->
例如，如果想要查询和"微信机器人"相关的最新新闻，可以向小理的搜索接口地址```https://api.xiaoli.ai/v1/api/search/basic```发送包含如下数据的post请求：
```
{
	"keywords": ["微信机器人"],
	"token": "45d898b459b4a739474175657556249a"
}
```
通过解析返回结果，可以获得包含标题、URL、摘要等信息的最新相关新闻列表：
```
{
    "data": {
        "contents": [
            {
                "img_url": "https://img.xiaolizhuli.com/get/070b35d5-2ed8-4a28-912b-aa845fd65818uuid-name176_4715385_4c8d32f1f1ac4477f9a9891e48463d43.jpg",
                "news_abstract": "...组建微信群后，群里有300人左右，每把参与的人有30多人。黄明找了“护群人员”充当“门神”，如果有人在群里捣乱，“门神”就负责将捣乱的人踢出群聊。作为组织者，黄明有时候也会在微信群里“玩几把”。... 黄明逐渐发现，微信群里赌博的输赢越来越大，“以前是30元起押，2000元封顶，现在是3000元封顶”。而团队也越来越大，除了之前带过去的几个人，他们又专门招聘了一批人，互相之间分工也更加明确。... “门神”“拉手”都是这个团队里的角色，30多人的团队还有后勤管理、财务、“发包手”“赌托”“兑奖”“机器人”等10多个职位，每个职位都有相应成员分两组在24小时内轮班值守。",
                "pub_date": "2018-07-31T07:19:10.187461",
                "seed_title": "中国网",
                "title": "微信群里的赌场",
                "url": "https://base.xiaoli.ai/item/070b35d5-2ed8-4a28-912b-aa845fd65818?app_uuid=a6b1ff0c-3d9d-4d44-acf5-38d05868eed6"
            },
            {
                "img_url": "",
                "news_abstract": "...36氪近日接触到的「桔子互动」是一家提供微信机器人服务的创业公司。其推出的“小桔机器人”产品，通过提供完整的微信接入服务、运维部署服务、AI服务，帮助企业客户搭建个性化的“智能对话”应用，以及高效管理微信“社群营销”活动。... 具体来说，在“智能对话”方面，桔子互动系统基于自然语言理解（NLU）、对话管理（DM）、自然语言生成（NLG）、用户仿真、强化学习等技术，结合客户业务场景，个性化定制和搭建整套对话系统。",
                "pub_date": "2018-07-20T10:57:48.222151",
                "seed_title": "36氪",
                "title": "瞄准微信生态，「桔子互动」推出能进行“智能对话”和“社群营销”的微信助手",
                "url": "https://base.xiaoli.ai/item/0d083870-a29f-446e-be6c-8a683f2488c1?app_uuid=a6b1ff0c-3d9d-4d44-acf5-38d05868eed6"
            }
            ...
        ],
        ...
    }
}
```
> 嘿嘿，不小心搜出了桔子互动

通过这些内容接口，开发者可以很方便的用小理智能的内容丰富自己机器人的功能。以下给出两个典型的应用场景：智能资讯问答以及日报定时发送。

## 智能资讯问答

## 日报定时发送

## 附：如何使用小理的内容接口

请开发者们参考小理的[接口文档](http://docs.xiaoli.ai)，我们的系统目前属于内测阶段，尚未开放注册，为了方便大家测试，这里为大家准备了3个测试用的token：
```
45d898b459b4a739474175657556249a
6d3b08ef9188c4d5c22739fb2f073b20
ecefeb8778165cbdfb2bfaa66be42bfb
```
以上token供大家测试功能使用，会有一定的频率和次数限制。如果有进一步的需求，欢迎大家通过我们的客服微信或者邮件和我们联系**todo联系方式**。
